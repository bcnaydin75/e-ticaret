<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trend Sepeti - Sepetim</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght=700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="Style/index.css">
    <link rel="stylesheet" href="Style/market.css">
</head>

<body>
    <div class="auth-modal" id="authModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Trend Sepeti</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-tabs">
                <button class="tab-btn active" id="loginTab">Giriş Yap</button>
                <button class="tab-btn" id="registerTab">Kayıt Ol</button>
            </div>
            <div class="modal-body">
                <form class="auth-form active" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">E-posta</label>
                        <input type="email" id="loginEmail" placeholder="E-posta adresinizi girin" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Şifre</label>
                        <input type="password" id="loginPassword" placeholder="Şifrenizi girin" required>
                    </div>
                    <div class="form-options">
                        <div class="remember-me">
                            <input type="checkbox" id="rememberMe">
                            <label for="rememberMe">Beni Hatırla</label>
                        </div>
                        <a href="#" class="forgot-password">Şifremi Unuttum?</a>
                    </div>
                    <button type="submit" class="submit-btn">Giriş Yap</button>

                    <div class="social-login">
                        <p>veya sosyal medya ile giriş yap</p>
                        <div class="social-buttons">
                            <div class="social-btn facebook">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <div class="social-btn google">
                                <i class="fab fa-google"></i>
                            </div>
                            <div class="social-btn twitter">
                                <i class="fab fa-twitter"></i>
                            </div>
                        </div>
                    </div>

                    <div class="signup-link">
                        Hesabınız yok mu? <a href="#" id="goToRegister">Kayıt Ol</a>
                    </div>
                </form>

                <form class="auth-form" id="registerForm">
                    <div class="form-group">
                        <label for="registerName">Ad Soyad</label>
                        <input type="text" id="registerName" placeholder="Adınız ve soyadınız" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">E-posta</label>
                        <input type="email" id="registerEmail" placeholder="E-posta adresiniz" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Şifre</label>
                        <input type="password" id="registerPassword" placeholder="Şifreniz (min. 6 karakter)" required>
                    </div>
                    <div class="form-group">
                        <label for="registerConfirm">Şifreyi Onayla</label>
                        <input type="password" id="registerConfirm" placeholder="Şifrenizi tekrar girin" required>
                    </div>

                    <button type="submit" class="submit-btn">Hesap Oluştur</button>

                    <div class="signup-link">
                        Zaten hesabınız var mı? <a href="#" id="goToLogin">Giriş Yap</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <h1>Trend <span>Sepeti</span></h1>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Aradığınız ürünü buraya yazın...">
                    <button><i class="fas fa-search"></i> Ara</button>
                </div>
                <div class="header-icons">
                    <button class="icon-btn" id="profileBtn">
                        <i class="fas fa-user"></i>
                    </button>
                    <button class="icon-btn" onclick="window.location.href='favorites.html'">
                        <i class="fas fa-heart"></i>
                        <span class="icon-badge">3</span>
                    </button>
                    <button class="icon-btn" onclick="window.location.href='sepet.html'">
                        <i class=" fas fa-shopping-cart"></i>
                        <span class="icon-badge" id="cartBadgeCount">5</span>
                    </button>
                </div>
            </div>
        </div>

        <nav>
            <div class="container">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Anasayfa</a></li>
                    <li><a href="women.html">Kadın</a></li>
                    <li><a href="male.html">Erkek</a></li>
                    <li><a href="kids.html">Çocuk</a></li>
                    <li><a href="shoe.html">Ayakkabı</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="container content-section">
        <div class="section-title">
            <h2>Sepetim</h2>
        </div>

        <div class="cart-container">
            <div class="cart-items" id="cartItemsContainer">
                <div class="cart-item" data-price="349.99">
                    <div class="cart-item-img">
                        <img src="https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                            alt="Yazlık Desenli Elbise">
                    </div>
                    <div class="cart-item-details">
                        <h3>Yazlık Desenli Elbise</h3>
                        <span class="category">Kadın Giyim</span>
                        <div class="cart-item-price">₺<span class="item-current-price">349.99</span></div>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn decrease-quantity">-</button>
                        <input type="number" value="1" min="1" class="item-quantity">
                        <button class="quantity-btn increase-quantity">+</button>
                    </div>
                    <button class="remove-item"><i class="fas fa-times"></i></button>
                </div>

                <div class="cart-item" data-price="129.99">
                    <div class="cart-item-img">
                        <img src="https://images.unsplash.com/photo-1521341057461-6eb5f40b07ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                            alt="Pamuklu Erkek Tişört">
                    </div>
                    <div class="cart-item-details">
                        <h3>Pamuklu Erkek Tişört</h3>
                        <span class="category">Erkek Giyim</span>
                        <div class="cart-item-price">₺<span class="item-current-price">129.99</span></div>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn decrease-quantity">-</button>
                        <input type="number" value="2" min="1" class="item-quantity">
                        <button class="quantity-btn increase-quantity">+</button>
                    </div>
                    <button class="remove-item"><i class="fas fa-times"></i></button>
                </div>
            </div>

            <div class="cart-summary">
                <h3>Sepet Özeti</h3>
                <div class="summary-row">
                    <span>Ara Toplam:</span>
                    <span id="subtotal">₺0.00</span>
                </div>
                <div class="summary-row">
                    <span>Kargo Ücreti:</span>
                    <span id="shippingCost">₺0.00</span>
                </div>
                <div class="summary-row total">
                    <span>Toplam:</span>
                    <span id="totalAmount">₺0.00</span>
                </div>
                <button class="checkout-btn">Ödeme Yap</button>
                <a href="index.html" class="continue-shopping-btn">Alışverişe Devam Et</a>
            </div>
        </div>

        <div class="empty-cart-message" id="emptyCartMessage" style="display: none;">
            <p>Sepetinizde henüz ürün bulunmamaktadır.</p>
            <a href="index.html" class="btn">Alışverişe Başla</a>
        </div>
    </main>

    <section class="container">
        <div class="newsletter">
            <h2>Fırsatlardan Haberdar Olun</h2>
            <p>Yenilikler, özel indirimler ve kampanyalardan haberdar olmak için bültenimize abone olun.</p>
            <form class="newsletter-form">
                <input type="email" placeholder="E-posta adresinizi girin" required>
                <button type="submit">Abone Ol</button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>Trend Sepeti</h3>
                    <p>Türkiye'nin en trend giyim ve moda ürünleri tek platformda. Kalite ve uygun fiyat garantisi!</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>

                <div class="footer-col">
                    <h3>Kategoriler</h3>
                    <ul>
                        <li><a href="women.html">Kadın Giyim</a></li>
                        <li><a href="male.html">Erkek Giyim</a></li>
                        <li><a href="kids.html">Çocuk Giyim</a></li>
                        <li><a href="shoe.html">Ayakkabı</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3>Müşteri Hizmetleri</h3>
                    <ul>
                        <li><a href="#">Sipariş Takibi</a></li>
                        <li><a href="#">İade ve Değişim</a></li>
                        <li><a href="#">Teslimat Bilgileri</a></li>
                        <li><a href="#">Sıkça Sorulan Sorular</a></li>
                        <li><a href="#">Gizlilik Politikası</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h3>İletişim</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> İstanbul, Türkiye</li>
                        <li><i class="fas fa-phone"></i> +90 212 123 4567</li>
                        <li><i class="fas fa-envelope"></i> info@trendsepeti.com</li>
                        <li><i class="fas fa-clock"></i> 09:00 - 18:00</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2025 Trend Sepeti. Tüm hakları saklıdır.</p>
            </div>
        </div>
    </footer>
    <script src="script.js"></script>
    <script>
        // Sepet Sayfası İçin JavaScript
        document.addEventListener('DOMContentLoaded', () => {
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const subtotalElement = document.getElementById('subtotal');
            const shippingCostElement = document.getElementById('shippingCost');
            const totalAmountElement = document.getElementById('totalAmount');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const cartSummary = document.querySelector('.cart-summary');
            const cartBadgeCount = document.getElementById('cartBadgeCount');

            // Kargo ücreti sabit veya belirli bir eşiğe göre değişebilir
            const SHIPPING_THRESHOLD = 500; // Örneğin, 500 TL üzeri kargo bedava
            const BASE_SHIPPING_COST = 19.99; // Temel kargo ücreti

            function updateCartTotals() {
                let subtotal = 0;
                let totalItems = 0;

                document.querySelectorAll('.cart-item').forEach(item => {
                    const pricePerItem = parseFloat(item.dataset.price);
                    const quantity = parseInt(item.querySelector('.item-quantity').value);
                    subtotal += pricePerItem * quantity;
                    totalItems += quantity;
                });

                let shippingCost = BASE_SHIPPING_COST;
                if (subtotal >= SHIPPING_THRESHOLD) {
                    shippingCost = 0; // Kargo bedava
                }

                const totalAmount = subtotal + shippingCost;

                subtotalElement.textContent = `₺${subtotal.toFixed(2)}`;
                shippingCostElement.textContent = `₺${shippingCost.toFixed(2)}`;
                totalAmountElement.textContent = `₺${totalAmount.toFixed(2)}`;

                // Sepet boşsa mesajı göster, doluysa gizle
                if (totalItems === 0) {
                    cartItemsContainer.style.display = 'none';
                    cartSummary.style.display = 'none';
                    emptyCartMessage.style.display = 'block';
                } else {
                    cartItemsContainer.style.display = 'block'; // veya 'grid', 'flex' duruma göre
                    cartSummary.style.display = 'block';
                    emptyCartMessage.style.display = 'none';
                }

                // Header'daki sepet sayısını güncelle
                if (cartBadgeCount) {
                    cartBadgeCount.textContent = totalItems;
                }
            }

            // Miktar arttırma/azaltma ve ürünü kaldırma olay dinleyicileri
            cartItemsContainer.addEventListener('click', (event) => {
                const target = event.target;
                const cartItem = target.closest('.cart-item');

                if (!cartItem) return;

                const quantityInput = cartItem.querySelector('.item-quantity');
                let currentQuantity = parseInt(quantityInput.value);

                if (target.classList.contains('increase-quantity')) {
                    quantityInput.value = currentQuantity + 1;
                    updateCartTotals();
                } else if (target.classList.contains('decrease-quantity')) {
                    if (currentQuantity > 1) {
                        quantityInput.value = currentQuantity - 1;
                        updateCartTotals();
                    }
                } else if (target.closest('.remove-item')) {
                    cartItem.remove();
                    updateCartTotals();
                }
            });

            // Miktar input'u değiştiğinde
            cartItemsContainer.addEventListener('change', (event) => {
                if (event.target.classList.contains('item-quantity')) {
                    let value = parseInt(event.target.value);
                    if (isNaN(value) || value < 1) {
                        event.target.value = 1; // Geçersizse 1'e sabitle
                    }
                    updateCartTotals();
                }
            });

            // Sayfa yüklendiğinde sepet toplamlarını hesapla
            updateCartTotals();

            // Modal açma/kapama ve tab geçişleri için mevcut script.js kodunu buraya tekrar ekliyoruz
            // Eğer script.js tüm sayfalarda ortak işlevleri yönetiyorsa, bu kısmı script.js'e taşıyabilirsin.
            const profileBtn = document.getElementById('profileBtn');
            const authModal = document.getElementById('authModal');
            const closeModal = document.getElementById('closeModal');
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const goToRegister = document.getElementById('goToRegister');
            const goToLogin = document.getElementById('goToLogin');

            if (profileBtn && authModal && closeModal && loginTab && registerTab && loginForm && registerForm && goToRegister && goToLogin) {
                profileBtn.addEventListener('click', () => {
                    authModal.style.display = 'flex';
                });

                closeModal.addEventListener('click', () => {
                    authModal.style.display = 'none';
                });

                window.addEventListener('click', (event) => {
                    if (event.target === authModal) {
                        authModal.style.display = 'none';
                    }
                });

                loginTab.addEventListener('click', () => {
                    loginTab.classList.add('active');
                    registerTab.classList.remove('active');
                    loginForm.classList.add('active');
                    registerForm.classList.remove('active');
                });

                registerTab.addEventListener('click', () => {
                    registerTab.classList.add('active');
                    loginTab.classList.remove('active');
                    registerForm.classList.add('active');
                    loginForm.classList.remove('active');
                });

                goToRegister.addEventListener('click', (e) => {
                    e.preventDefault();
                    registerTab.click();
                });

                goToLogin.addEventListener('click', (e) => {
                    e.preventDefault();
                    loginTab.click();
                });
            }
        });
    </script>
</body>

</html>